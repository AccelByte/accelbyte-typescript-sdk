/*
 * Copyright (c) 2022-2023 AccelByte Inc. All Rights Reserved
 * This is licensed software from AccelByte Inc, for limitations
 * and restrictions contact your company contract manager.
 */

$bg-50: rgb(var(--od-rgb-background), 0.5);
$card-100: rgb(var(--od-rgba-card));
$text-25: rgb(var(--od-rgb-text), 0.25);
$text-65: rgb(var(--od-rgb-text), 0.65);
$text-100: rgb(var(--od-rgba-text));

:local {
  .oneTimeLinkAccountPage {
    @apply bg-gray-d1 flex min-h-screen items-center justify-center p-4;

    .languageSelector {
      @apply fixed top-0 right-0 mt-8 mr-8;
    }

    .container {
      @apply my-32 w-full max-w-sm p-0;

      &:has(.pickProgression) {
        @apply max-w-2xl;
      }
    }

    .form {
      @apply mt-8 w-full rounded p-6 pt-8;
      background-color: $card-100;

      hr {
        @apply mb-6;
        color: $text-25;
      }

      button {
        @apply normal-case;
      }

      .title {
        @apply text-lg font-medium;
      }

      .description {
        @apply text-2sm mt-2;
        color: $text-65;
      }

      .label {
        @apply text-2sm mb-1 flex w-full justify-between;
        color: $text-65;
      }

      .input {
        @apply mb-1 max-w-md bg-transparent;
      }

      .resendCode {
        @apply text-2sm max-w-xl font-normal leading-6;
        color: $text-65;

        > span {
          @apply text-primary-60 cursor-pointer;
        }
      }

      .agreementList {
        @apply text-xs leading-4 tracking-wide;
        color: $text-65;

        .agreementItem {
          @apply mb-2 flex items-center justify-center;

          .text {
            @apply ml-2 text-xs;
            word-break: break-word;

            &.optional {
              word-break: normal !important;
            }

            a {
              @apply text-blue-40 ml-1 cursor-pointer;
            }
          }
        }
      }
    }

    .pickProgression {
      .sectionTitle {
        @apply text-2sm mb-1 font-medium uppercase;
      }

      .warningTip {
        @apply bg-gold-10 text-gray-90 flex rounded p-3 text-sm;

        .warningIcon {
          @apply mr-2;
          svg,
          rect {
            @apply fill-orange-40;
          }
        }
      }

      .accountDetails {
        @apply break-words rounded p-3;
        background-color: $bg-50;

        .accountDetailsPlatformName {
          @apply text-2tiny font-medium uppercase;
          color: $text-65;
        }

        .accountDetailsEmail {
          @apply text-2sm;
          color: $text-65;
        }
      }
    }

    .progressionTable {
      @apply mt-3 mb-6 rounded border border-solid px-3;
      border-color: $text-25;

      table {
        @apply w-full;
      }

      thead tr,
      tbody tr:not(:last-child) {
        @apply border-b border-solid;
        border-color: $text-25;
      }

      th {
        @apply text-2sm w-1/2 py-3 text-left font-medium uppercase leading-6;
      }

      td {
        @apply text-2sm w-1/2 py-4;
      }
    }

    .noSession {
      @apply flex flex-col items-center rounded p-4 text-center;
      background-color: $bg-50;
      .loginIcon svg {
        @apply h-7 w-7;
        path {
          @apply fill-primary-60;
        }
      }
    }

    .withSession {
      @apply flex items-center rounded border border-solid p-4;
      border-color: $text-25;

      .withSessionAvatar {
        @apply h-8 w-8 overflow-hidden rounded-full object-cover;
      }

      .withSessionUserName {
        @apply font-medium;
      }

      .withSessionEmail {
        color: $text-65;
      }
    }

    &.desktop {
      @apply bg-transparent;
      .languageSelector {
        @apply mt-14;
      }
      select {
        @apply bg-transparent;
      }
    }

    :global {
      .otpInputContainer {
        @apply flex justify-center;
        .otpInput {
          @apply h-9 w-[45px];
          &:not(:last-child) {
            @apply mr-3;
          }

          input {
            @apply h-full rounded border border-solid bg-transparent;
            border-color: $text-25;
            width: 100% !important;

            &.otpInput__focus {
              @apply border-blue-60 border-2 border-solid outline-none;
            }
            &:disabled {
              @apply opacity-40;
            }
          }
        }
      }

      .tabs {
        @apply flex;
        &::after {
          background-color: $text-25;
        }
        .tab {
          @apply text-2sm block grow px-1 py-2 text-center font-normal leading-5;
          color: $text-65;
          &.active {
            color: $text-100;
          }
        }
      }
    }
  }
}
